import{j as k}from"./index-BU3CQqfv.js";import{b as c,e as v,d as zt}from"./vendor-D0onPmP6.js";import{b as $t}from"./react-paginate-AX4tIbqh.js";function qt({title:e,titleId:t,...a},r){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?c.createElement("title",{id:t},e):null,c.createElement("path",{d:"M9.25 13.25a.75.75 0 0 0 1.5 0V4.636l2.955 3.129a.75.75 0 0 0 1.09-1.03l-4.25-4.5a.75.75 0 0 0-1.09 0l-4.25 4.5a.75.75 0 1 0 1.09 1.03L9.25 4.636v8.614Z"}),c.createElement("path",{d:"M3.5 12.75a.75.75 0 0 0-1.5 0v2.5A2.75 2.75 0 0 0 4.75 18h10.5A2.75 2.75 0 0 0 18 15.25v-2.5a.75.75 0 0 0-1.5 0v2.5c0 .69-.56 1.25-1.25 1.25H4.75c-.69 0-1.25-.56-1.25-1.25v-2.5Z"}))}const Zt=c.forwardRef(qt),T=[];for(let e=0;e<256;++e)T.push((e+256).toString(16).slice(1));function Kt(e,t=0){return(T[e[t+0]]+T[e[t+1]]+T[e[t+2]]+T[e[t+3]]+"-"+T[e[t+4]]+T[e[t+5]]+"-"+T[e[t+6]]+T[e[t+7]]+"-"+T[e[t+8]]+T[e[t+9]]+"-"+T[e[t+10]]+T[e[t+11]]+T[e[t+12]]+T[e[t+13]]+T[e[t+14]]+T[e[t+15]]).toLowerCase()}let Pt;const Gt=new Uint8Array(16);function Jt(){if(!Pt){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Pt=crypto.getRandomValues.bind(crypto)}return Pt(Gt)}const Qt=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wt={randomUUID:Qt};function en(e,t,a){if(Wt.randomUUID&&!e)return Wt.randomUUID();e=e||{};const r=e.random??e.rng?.()??Jt();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Kt(r)}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},S.apply(null,arguments)}function Mt(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;a[r]=e[r]}return a}function Fe(e){var t=c.useRef({fn:e,curr:void 0}).current;if(t.fn=e,!t.curr){var a=Object.create(null);Object.keys(e).forEach(function(r){a[r]=function(){var o;return(o=t.fn[r]).call.apply(o,[t.fn].concat([].slice.call(arguments)))}}),t.curr=a}return t.curr}function kt(e){return c.useReducer(function(t,a){return S({},t,typeof a=="function"?a(t):a)},e)}var Ht=c.createContext(void 0),Lt="cubic-bezier(0.25, 0.8, 0.25, 1)",Je=20,ye=typeof window<"u"&&"ontouchstart"in window,St=function(e,t,a){return Math.max(Math.min(e,a),t)},Rt=function(e,t,a){return t===void 0&&(t=0),a===void 0&&(a=0),St(e,1*(1-a),Math.max(6,t)*(1+a))},Xt=typeof window>"u"||/ServerSideRendering/.test(navigator&&navigator.userAgent)?c.useEffect:c.useLayoutEffect;function Qe(e,t,a){var r=c.useRef(t);r.current=t,c.useEffect(function(){function o(u){r.current(u)}return e&&window.addEventListener(e,o,a),function(){e&&window.removeEventListener(e,o)}},[e])}var tn=["container"];function nn(e){var t=e.container,a=t===void 0?document.body:t,r=Mt(e,tn);return zt.createPortal(v.createElement("div",S({},r)),a)}function rn(e){return v.createElement("svg",S({width:"44",height:"44",viewBox:"0 0 768 768"},e),v.createElement("path",{d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"}))}function an(e){return v.createElement("svg",S({width:"44",height:"44",viewBox:"0 0 768 768"},e),v.createElement("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"}))}function on(e){return v.createElement("svg",S({width:"44",height:"44",viewBox:"0 0 768 768"},e),v.createElement("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"}))}function cn(){return c.useEffect(function(){var e=document.body.style,t=e.overflow;return e.overflow="hidden",function(){e.overflow=t}},[]),null}function Vt(e){var t=e.touches[0],a=t.clientX,r=t.clientY;if(e.touches.length>=2){var o=e.touches[1],u=o.clientX,l=o.clientY;return[(a+u)/2,(r+l)/2,Math.sqrt(Math.pow(u-a,2)+Math.pow(l-r,2))]}return[a,r,0]}var Ye=function(e,t,a,r){var o,u=a*t,l=(u-r)/2,s=e;return u<=r?(o=1,s=0):e>0&&l-e<=0?(o=2,s=l):e<0&&l+e<=0&&(o=3,s=-l),[o,s]};function jt(e,t,a,r,o,u,l,s,m,h){l===void 0&&(l=innerWidth/2),s===void 0&&(s=innerHeight/2),m===void 0&&(m=0),h===void 0&&(h=0);var g=Ye(e,u,a,innerWidth)[0],y=Ye(t,u,r,innerHeight),j=innerWidth/2,R=innerHeight/2;return{x:l-u/o*(l-(j+e))-j+(r/a>=3&&a*u===innerWidth?0:g?m/2:m),y:s-u/o*(s-(R+t))-R+(y[0]?h/2:h),lastCX:l,lastCY:s}}function Tt(e,t,a){var r=e%180!=0;return r?[a,t,r]:[t,a,r]}function Yt(e,t,a){var r=Tt(a,innerWidth,innerHeight),o=r[0],u=r[1],l=0,s=o,m=u,h=e/t*u,g=t/e*o;return e<o&&t<u?(s=e,m=t):e<o&&t>=u?s=h:e>=o&&t<u||e/t>o/u?m=g:t/e>=3&&!r[2]?l=((m=g)-u)/2:s=h,{width:s,height:m,x:0,y:l,pause:!0}}function Nt(e,t){var a=t.leading,r=a!==void 0&&a,o=t.maxWait,u=t.wait,l=u===void 0?o||0:u,s=c.useRef(e);s.current=e;var m=c.useRef(0),h=c.useRef(),g=function(){return h.current&&clearTimeout(h.current)},y=c.useCallback(function(){var j=[].slice.call(arguments),R=Date.now();function d(){m.current=R,g(),s.current.apply(null,j)}var x=m.current,w=R-x;if(x===0&&(r&&d(),m.current=R),o!==void 0){if(w>o)return void d()}else w<l&&(m.current=R);g(),h.current=setTimeout(function(){d(),m.current=0},l)},[l,o,r]);return y.cancel=g,y}var Ft=function(e,t,a){return Ve(e,t,a,100,function(r){return r},function(){return Ve(t,e,a)})},un=function(e){return 1-Math.pow(1-e,4)};function Ve(e,t,a,r,o,u){r===void 0&&(r=400),o===void 0&&(o=un);var l=t-e;if(l!==0){var s=Date.now(),m=0,h=function(){var y=Math.min(1,(Date.now()-s)/r);a(e+o(y)*l)&&y<1?g():(cancelAnimationFrame(m),y>=1&&u&&u())};g()}function g(){m=requestAnimationFrame(h)}}var ln={T:0,L:0,W:0,H:0,FIT:void 0},Ot=function(){var e=c.useRef(!1);return c.useEffect(function(){return e.current=!0,function(){e.current=!1}},[]),e},sn=["className"];function dn(e){var t=e.className,a=t===void 0?"":t,r=Mt(e,sn);return v.createElement("div",S({className:"PhotoView__Spinner "+a},r),v.createElement("svg",{viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},v.createElement("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),v.createElement("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})))}var fn=["src","loaded","broken","className","onPhotoLoad","loadingElement","brokenElement"];function vn(e){var t=e.src,a=e.loaded,r=e.broken,o=e.className,u=e.onPhotoLoad,l=e.loadingElement,s=e.brokenElement,m=Mt(e,fn),h=Ot();return t&&!r?v.createElement(v.Fragment,null,v.createElement("img",S({className:"PhotoView__Photo"+(o?" "+o:""),src:t,onLoad:function(g){var y=g.target;h.current&&u({loaded:!0,naturalWidth:y.naturalWidth,naturalHeight:y.naturalHeight})},onError:function(){h.current&&u({broken:!0})},draggable:!1,alt:""},m)),!a&&(l?v.createElement("span",{className:"PhotoView__icon"},l):v.createElement(dn,{className:"PhotoView__icon"}))):s?v.createElement("span",{className:"PhotoView__icon"},typeof s=="function"?s({src:t}):s):null}var hn={naturalWidth:void 0,naturalHeight:void 0,width:void 0,height:void 0,loaded:void 0,broken:!1,x:0,y:0,touched:!1,maskTouched:!1,rotate:0,scale:1,CX:0,CY:0,lastX:0,lastY:0,lastCX:0,lastCY:0,lastScale:1,touchTime:0,touchLength:0,pause:!0,stopRaf:!0,reach:void 0};function mn(e){var t=e.item,a=t.src,r=t.render,o=t.width,u=o===void 0?0:o,l=t.height,s=l===void 0?0:l,m=t.originRef,h=e.visible,g=e.speed,y=e.easing,j=e.wrapClassName,R=e.className,d=e.style,x=e.loadingElement,w=e.brokenElement,_=e.onPhotoTap,A=e.onMaskTap,be=e.onReachMove,ce=e.onReachUp,et=e.onPhotoResize,M=e.isActive,ee=e.expose,dt=kt(hn),b=dt[0],N=dt[1],Ue=c.useRef(0),He=Ot(),ft=b.naturalWidth,ue=ft===void 0?u:ft,I=b.naturalHeight,D=I===void 0?s:I,tt=b.width,q=tt===void 0?u:tt,vt=b.height,Ee=vt===void 0?s:vt,nt=b.loaded,rt=nt===void 0?!a:nt,Se=b.broken,H=b.x,le=b.y,Z=b.touched,_t=b.stopRaf,Ce=b.maskTouched,K=b.rotate,X=b.scale,ht=b.CX,Oe=b.CY,Xe=b.lastX,at=b.lastY,C=b.lastCX,mt=b.lastCY,te=b.lastScale,Te=b.touchTime,gt=b.touchLength,G=b.pause,Ie=b.reach,ot=Fe({onScale:function(n){return se(Rt(n))},onRotate:function(n){K!==n&&(ee({rotate:n}),N(S({rotate:n},Yt(ue,D,n))))}});function se(n,i,p){X!==n&&(ee({scale:n}),N(S({scale:n},jt(H,le,q,Ee,X,n,i,p),n<=1&&{x:0,y:0})))}var pt=Nt(function(n,i,p){if(p===void 0&&(p=0),(Z||Ce)&&M){var de=Tt(K,q,Ee),fe=de[0],O=de[1];if(p===0&&Ue.current===0){var F=Math.abs(n-ht)<=20,U=Math.abs(i-Oe)<=20;if(F&&U)return void N({lastCX:n,lastCY:i});Ue.current=F?i>Oe?3:2:1}var ae,Ae=n-C,ke=i-mt;if(p===0){var De=Ye(Ae+Xe,X,fe,innerWidth)[0],$e=Ye(ke+at,X,O,innerHeight);ae=(function(Me,he,me,oe){return he&&Me===1||oe==="x"?"x":me&&Me>1||oe==="y"?"y":void 0})(Ue.current,De,$e[0],Ie),ae!==void 0&&be(ae,n,i,X)}if(ae==="x"||Ce)return void N({reach:"x"});var ve=Rt(X+(p-gt)/100/2*X,ue/q,.2);ee({scale:ve}),N(S({touchLength:p,reach:ae,scale:ve},jt(H,le,q,Ee,X,ve,n,i,Ae,ke)))}},{maxWait:8});function it(n){return!_t&&!Z&&(He.current&&N(S({},n,{pause:h})),He.current)}var Re,ne,Ne,ct,wt,xt,yt,V,bt=(wt=function(n){return it({x:n})},xt=function(n){return it({y:n})},yt=function(n){return He.current&&(ee({scale:n}),N({scale:n})),!Z&&He.current},V=Fe({X:function(n){return wt(n)},Y:function(n){return xt(n)},S:function(n){return yt(n)}}),function(n,i,p,de,fe,O,F,U,ae,Ae,ke){var De=Tt(Ae,fe,O),$e=De[0],ve=De[1],Me=Ye(n,U,$e,innerWidth),he=Me[0],me=Me[1],oe=Ye(i,U,ve,innerHeight),qe=oe[0],Ct=oe[1],Ze=Date.now()-ke;if(Ze>=200||U!==F||Math.abs(ae-F)>1){var _e=jt(n,i,fe,O,F,U),ge=_e.x,We=_e.y,B=he?me:ge!==n?ge:null,Ke=qe?Ct:We!==i?We:null;return B!==null&&Ve(n,B,V.X),Ke!==null&&Ve(i,Ke,V.Y),void(U!==F&&Ve(F,U,V.S))}var Le=(n-p)/Ze,Pe=(i-de)/Ze,je=Math.sqrt(Math.pow(Le,2)+Math.pow(Pe,2)),pe=!1,we=!1;(function(J,W){var L,Q=J,xe=0,z=0,Ge=function(lt){L||(L=lt);var st=lt-L,It=Math.sign(J),At=-.001*It,Dt=Math.sign(-Q)*Math.pow(Q,2)*2e-4,Bt=Q*st+(At+Dt)*Math.pow(st,2)/2;xe+=Bt,L=lt,It*(Q+=(At+Dt)*st)<=0?$():W(xe)?ie():$()};function ie(){z=requestAnimationFrame(Ge)}function $(){cancelAnimationFrame(z)}ie()})(je,function(J){var W=n+J*(Le/je),L=i+J*(Pe/je),Q=Ye(W,F,$e,innerWidth),xe=Q[0],z=Q[1],Ge=Ye(L,F,ve,innerHeight),ie=Ge[0],$=Ge[1];if(xe&&!pe&&(pe=!0,he?Ve(W,z,V.X):Ft(z,W+(W-z),V.X)),ie&&!we&&(we=!0,qe?Ve(L,$,V.Y):Ft($,L+(L-$),V.Y)),pe&&we)return!1;var lt=pe||V.X(z),st=we||V.Y($);return lt&&st})}),Be=(Re=_,ne=function(n,i){Ie||se(X!==1?1:Math.max(2,ue/q),n,i)},Ne=c.useRef(0),ct=Nt(function(){Ne.current=0,Re.apply(void 0,[].slice.call(arguments))},{wait:300}),function(){var n=[].slice.call(arguments);Ne.current+=1,ct.apply(void 0,n),Ne.current>=2&&(ct.cancel(),Ne.current=0,ne.apply(void 0,n))});function ze(n,i){if(Ue.current=0,(Z||Ce)&&M){N({touched:!1,maskTouched:!1,pause:!1,stopRaf:!1,reach:void 0});var p=Rt(X,ue/q);if(bt(H,le,Xe,at,q,Ee,X,p,te,K,Te),ce(n,i),ht===n&&Oe===i){if(Z)return void Be(n,i);Ce&&A(n,i)}}}function ut(n,i,p){p===void 0&&(p=0),N({touched:!0,CX:n,CY:i,lastCX:n,lastCY:i,lastX:H,lastY:le,lastScale:X,touchLength:p,touchTime:Date.now()})}function Et(n){N({maskTouched:!0,CX:n.clientX,CY:n.clientY,lastX:H,lastY:le})}Qe(ye?void 0:"mousemove",function(n){n.preventDefault(),pt(n.clientX,n.clientY)}),Qe(ye?void 0:"mouseup",function(n){ze(n.clientX,n.clientY)}),Qe(ye?"touchmove":void 0,function(n){n.preventDefault();var i=Vt(n);pt.apply(void 0,i)},{passive:!1}),Qe(ye?"touchend":void 0,function(n){var i=n.changedTouches[0];ze(i.clientX,i.clientY)},{passive:!1}),Qe("resize",Nt(function(){rt&&!Z&&(N(Yt(ue,D,K)),et())},{maxWait:8})),Xt(function(){M&&ee(S({scale:X,rotate:K},ot))},[M]);var re=(function(n,i,p,de,fe,O,F,U,ae,Ae){var ke=(function(ge,We,B,Ke,Le){var Pe=c.useRef(!1),je=kt({lead:!0,scale:B}),pe=je[0],we=pe.lead,J=pe.scale,W=je[1],L=Nt(function(Q){try{return Le(!0),W({lead:!1,scale:Q}),Promise.resolve()}catch(xe){return Promise.reject(xe)}},{wait:Ke});return Xt(function(){Pe.current?(Le(!1),W({lead:!0}),L(B)):Pe.current=!0},[B]),we?[ge*J,We*J,B/J]:[ge*B,We*B,1]})(O,F,U,ae,Ae),De=ke[0],$e=ke[1],ve=ke[2],Me=(function(ge,We,B,Ke,Le){var Pe=c.useState(ln),je=Pe[0],pe=Pe[1],we=c.useState(0),J=we[0],W=we[1],L=c.useRef(),Q=Fe({OK:function(){return ge&&W(4)}});function xe(z){Le(!1),W(z)}return c.useEffect(function(){if(L.current||(L.current=Date.now()),B){if((function(z,Ge){var ie=z&&z.current;if(ie&&ie.nodeType===1){var $=ie.getBoundingClientRect();Ge({T:$.top,L:$.left,W:$.width,H:$.height,FIT:ie.tagName==="IMG"?getComputedStyle(ie).objectFit:void 0})}})(We,pe),ge)return Date.now()-L.current<250?(W(1),requestAnimationFrame(function(){W(2),requestAnimationFrame(function(){return xe(3)})}),void setTimeout(Q.OK,Ke)):void W(4);xe(5)}},[ge,B]),[J,je]})(n,i,p,ae,Ae),he=Me[0],me=Me[1],oe=me.W,qe=me.FIT,Ct=innerWidth/2,Ze=innerHeight/2,_e=he<3||he>4;return[_e?oe?me.L:Ct:de+(Ct-O*U/2),_e?oe?me.T:Ze:fe+(Ze-F*U/2),De,_e&&qe?De*(me.H/oe):$e,he===0?ve:_e?oe/(O*U)||.01:ve,_e?qe?1:0:1,he,qe]})(h,m,rt,H,le,q,Ee,X,g,function(n){return N({pause:n})}),f=re[4],E=re[6],Y="transform "+g+"ms "+y,P={className:R,onMouseDown:ye?void 0:function(n){n.stopPropagation(),n.button===0&&ut(n.clientX,n.clientY,0)},onTouchStart:ye?function(n){n.stopPropagation(),ut.apply(void 0,Vt(n))}:void 0,onWheel:function(n){if(!Ie){var i=Rt(X-n.deltaY/100/2,ue/q);N({stopRaf:!0}),se(i,n.clientX,n.clientY)}},style:{width:re[2]+"px",height:re[3]+"px",opacity:re[5],objectFit:E===4?void 0:re[7],transform:K?"rotate("+K+"deg)":void 0,transition:E>2?Y+", opacity "+g+"ms ease, height "+(E<4?g/2:E>4?g:0)+"ms "+y:void 0}};return v.createElement("div",{className:"PhotoView__PhotoWrap"+(j?" "+j:""),style:d,onMouseDown:!ye&&M?Et:void 0,onTouchStart:ye&&M?function(n){return Et(n.touches[0])}:void 0},v.createElement("div",{className:"PhotoView__PhotoBox",style:{transform:"matrix("+f+", 0, 0, "+f+", "+re[0]+", "+re[1]+")",transition:Z||G?void 0:Y,willChange:M?"transform":void 0}},a?v.createElement(vn,S({src:a,loaded:rt,broken:Se},P,{onPhotoLoad:function(n){N(S({},n,n.loaded&&Yt(n.naturalWidth||0,n.naturalHeight||0,K)))},loadingElement:x,brokenElement:w})):r&&r({attrs:P,scale:f,rotate:K})))}var Ut={x:0,touched:!1,pause:!1,lastCX:void 0,lastCY:void 0,bg:void 0,lastBg:void 0,overlay:!0,minimal:!0,scale:1,rotate:0};function gn(e){var t=e.loop,a=t===void 0?3:t,r=e.speed,o=e.easing,u=e.photoClosable,l=e.maskClosable,s=l===void 0||l,m=e.maskOpacity,h=m===void 0?1:m,g=e.pullClosable,y=g===void 0||g,j=e.bannerVisible,R=j===void 0||j,d=e.overlayRender,x=e.toolbarRender,w=e.className,_=e.maskClassName,A=e.photoClassName,be=e.photoWrapClassName,ce=e.loadingElement,et=e.brokenElement,M=e.images,ee=e.index,dt=ee===void 0?0:ee,b=e.onIndexChange,N=e.visible,Ue=e.onClose,He=e.afterClose,ft=e.portalContainer,ue=kt(Ut),I=ue[0],D=ue[1],tt=c.useState(0),q=tt[0],vt=tt[1],Ee=I.x,nt=I.touched,rt=I.pause,Se=I.lastCX,H=I.lastCY,le=I.bg,Z=le===void 0?h:le,_t=I.lastBg,Ce=I.overlay,K=I.minimal,X=I.scale,ht=I.rotate,Oe=I.onScale,Xe=I.onRotate,at=e.hasOwnProperty("index"),C=at?dt:q,mt=at?b:vt,te=c.useRef(C),Te=M.length,gt=M[C],G=typeof a=="boolean"?a:Te>a,Ie=(function(f,E){var Y=c.useReducer(function(p){return!p},!1)[1],P=c.useRef(0),n=(function(p){var de=c.useRef(p);function fe(O){de.current=O}return c.useMemo(function(){(function(O){f?(O(f),P.current=1):P.current=2})(fe)},[p]),[de.current,fe]})(f),i=n[1];return[n[0],P.current,function(){Y(),P.current===2&&(i(!1),E&&E()),P.current=0}]})(N,He),ot=Ie[0],se=Ie[1],pt=Ie[2];Xt(function(){if(ot)return D({pause:!0,x:C*-(innerWidth+Je)}),void(te.current=C);D(Ut)},[ot]);var it=Fe({close:function(f){Xe&&Xe(0),D({overlay:!0,lastBg:Z}),Ue(f)},changeIndex:function(f,E){E===void 0&&(E=!1);var Y=G?te.current+(f-C):f,P=Te-1,n=St(Y,0,P),i=G?Y:n,p=innerWidth+Je;D({touched:!1,lastCX:void 0,lastCY:void 0,x:-p*i,pause:E}),te.current=i,mt&&mt(G?f<0?P:f>P?0:f:n)}}),Re=it.close,ne=it.changeIndex;function Ne(f){return f?Re():D({overlay:!Ce})}function ct(){D({x:-(innerWidth+Je)*C,lastCX:void 0,lastCY:void 0,pause:!0}),te.current=C}function wt(f,E,Y,P){f==="x"?(function(n){if(Se!==void 0){var i=n-Se,p=i;!G&&(C===0&&i>0||C===Te-1&&i<0)&&(p=i/2),D({touched:!0,lastCX:Se,x:-(innerWidth+Je)*te.current+p,pause:!1})}else D({touched:!0,lastCX:n,x:Ee,pause:!1})})(E):f==="y"&&(function(n,i){if(H!==void 0){var p=h===null?null:St(h,.01,h-Math.abs(n-H)/100/4);D({touched:!0,lastCY:H,bg:i===1?p:h,minimal:i===1})}else D({touched:!0,lastCY:n,bg:Z,minimal:!0})})(Y,P)}function xt(f,E){var Y=f-(Se??f),P=E-(H??E),n=!1;if(Y<-40)ne(C+1);else if(Y>40)ne(C-1);else{var i=-(innerWidth+Je)*te.current;Math.abs(P)>100&&K&&y&&(n=!0,Re()),D({touched:!1,x:i,lastCX:void 0,lastCY:void 0,bg:h,overlay:!!n||Ce})}}Qe("keydown",function(f){if(N)switch(f.key){case"ArrowLeft":ne(C-1,!0);break;case"ArrowRight":ne(C+1,!0);break;case"Escape":Re()}});var yt=(function(f,E,Y){return c.useMemo(function(){var P=f.length;return Y?f.concat(f).concat(f).slice(P+E-1,P+E+2):f.slice(Math.max(E-1,0),Math.min(E+2,P+1))},[f,E,Y])})(M,C,G);if(!ot)return null;var V=Ce&&!se,bt=N?Z:_t,Be=Oe&&Xe&&{images:M,index:C,visible:N,onClose:Re,onIndexChange:ne,overlayVisible:V,overlay:gt&&gt.overlay,scale:X,rotate:ht,onScale:Oe,onRotate:Xe},ze=r?r(se):400,ut=o?o(se):Lt,Et=r?r(3):600,re=o?o(3):Lt;return v.createElement(nn,{className:"PhotoView-Portal"+(V?"":" PhotoView-Slider__clean")+(N?"":" PhotoView-Slider__willClose")+(w?" "+w:""),role:"dialog",onClick:function(f){return f.stopPropagation()},container:ft},N&&v.createElement(cn,null),v.createElement("div",{className:"PhotoView-Slider__Backdrop"+(_?" "+_:"")+(se===1?" PhotoView-Slider__fadeIn":se===2?" PhotoView-Slider__fadeOut":""),style:{background:bt?"rgba(0, 0, 0, "+bt+")":void 0,transitionTimingFunction:ut,transitionDuration:(nt?0:ze)+"ms",animationDuration:ze+"ms"},onAnimationEnd:pt}),R&&v.createElement("div",{className:"PhotoView-Slider__BannerWrap"},v.createElement("div",{className:"PhotoView-Slider__Counter"},C+1," / ",Te),v.createElement("div",{className:"PhotoView-Slider__BannerRight"},x&&Be&&x(Be),v.createElement(rn,{className:"PhotoView-Slider__toolbarIcon",onClick:Re}))),yt.map(function(f,E){var Y=G||C!==0?te.current-1+E:C+E;return v.createElement(mn,{key:G?f.key+"/"+f.src+"/"+Y:f.key,item:f,speed:ze,easing:ut,visible:N,onReachMove:wt,onReachUp:xt,onPhotoTap:function(){return Ne(u)},onMaskTap:function(){return Ne(s)},wrapClassName:be,className:A,style:{left:(innerWidth+Je)*Y+"px",transform:"translate3d("+Ee+"px, 0px, 0)",transition:nt||rt?void 0:"transform "+Et+"ms "+re},loadingElement:ce,brokenElement:et,onPhotoResize:ct,isActive:te.current===Y,expose:D})}),!ye&&R&&v.createElement(v.Fragment,null,(G||C!==0)&&v.createElement("div",{className:"PhotoView-Slider__ArrowLeft",onClick:function(){return ne(C-1,!0)}},v.createElement(an,null)),(G||C+1<Te)&&v.createElement("div",{className:"PhotoView-Slider__ArrowRight",onClick:function(){return ne(C+1,!0)}},v.createElement(on,null))),d&&Be&&v.createElement("div",{className:"PhotoView-Slider__Overlay"},d(Be)))}var pn=["children","onIndexChange","onVisibleChange"],wn={images:[],visible:!1,index:0};function xn(e){var t=e.children,a=e.onIndexChange,r=e.onVisibleChange,o=Mt(e,pn),u=kt(wn),l=u[0],s=u[1],m=c.useRef(0),h=l.images,g=l.visible,y=l.index,j=Fe({nextId:function(){return m.current+=1},update:function(x){var w=h.findIndex(function(A){return A.key===x.key});if(w>-1){var _=h.slice();return _.splice(w,1,x),void s({images:_})}s(function(A){return{images:A.images.concat(x)}})},remove:function(x){s(function(w){var _=w.images.filter(function(A){return A.key!==x});return{images:_,index:Math.min(_.length-1,y)}})},show:function(x){var w=h.findIndex(function(_){return _.key===x});s({visible:!0,index:w}),r&&r(!0,w,l)}}),R=Fe({close:function(){s({visible:!1}),r&&r(!1,y,l)},changeIndex:function(x){s({index:x}),a&&a(x,l)}}),d=c.useMemo(function(){return S({},l,j)},[l,j]);return v.createElement(Ht.Provider,{value:d},t,v.createElement(gn,S({images:h,visible:g,index:y,onIndexChange:R.changeIndex,onClose:R.close},o)))}var yn=function(e){var t,a,r=e.src,o=e.render,u=e.overlay,l=e.width,s=e.height,m=e.triggers,h=m===void 0?["onClick"]:m,g=e.children,y=c.useContext(Ht),j=(t=function(){return y.nextId()},(a=c.useRef({sign:!1,fn:void 0}).current).sign||(a.sign=!0,a.fn=t()),a.fn),R=c.useRef(null);c.useImperativeHandle(g?.ref,function(){return R.current}),c.useEffect(function(){return function(){y.remove(j)}},[]);var d=Fe({render:function(w){return o&&o(w)},show:function(w,_){y.show(j),(function(A,be){if(g){var ce=g.props[A];ce&&ce(be)}})(w,_)}}),x=c.useMemo(function(){var w={};return h.forEach(function(_){w[_]=d.show.bind(null,_)}),w},[]);return c.useEffect(function(){y.update({key:j,src:r,originRef:R,render:d.render,overlay:u,width:l,height:s})},[r]),g?c.Children.only(c.cloneElement(g,S({},x,{ref:R}))):null};const Rn=({label:e,files:t,setFiles:a,description:r,setDescription:o,maxFiles:u=5})=>{const[l,s]=c.useState(!1),m=c.useRef(null);c.useEffect(()=>()=>{t.forEach(d=>{d.preview&&URL.revokeObjectURL(d.preview)})},[t]);const h=async d=>{if(!d||d.length===0)return;const x=5,w=x*1024*1024,_=Array.from(d),A=_.filter(M=>M.size<=w),be=_.filter(M=>M.size>w);if(be.length>0){const M=be.map(ee=>ee.name).join(", ");alert(`The following files are larger than ${x}MB and were not added:

${M}`)}if(A.length===0)return;const ce=A.slice(0,u-t.length);if(ce.length===0){A.length>0&&alert(`You have reached the maximum of ${u} files. No new files were added.`);return}const et=ce.map(M=>({id:en(),file:M,preview:URL.createObjectURL(M),source:"new"}));a([...t,...et]),m.current&&(m.current.value="")},g=d=>{d.preventDefault(),d.stopPropagation(),s(["dragenter","dragover"].includes(d.type))},y=d=>{d.preventDefault(),d.stopPropagation(),s(!1),h(d.dataTransfer.files)},j=d=>{const x=t.find(w=>w.id===d);x?.preview&&URL.revokeObjectURL(x.preview),a(t.filter(w=>w.id!==d))},R=t.length>=u;return k.jsxs("div",{className:"space-y-4",children:[k.jsx("label",{className:"block text-sm font-semibold text-gray-800",children:e}),k.jsxs("div",{onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:y,onClick:()=>!R&&m.current?.click(),className:`relative flex flex-col items-center justify-center gap-2 border-2 border-dashed px-4 py-6 sm:px-6 sm:py-10 rounded-lg transition-all duration-300
      ${R?"cursor-not-allowed opacity-60":"cursor-pointer"}
      ${l?"border-orange-500 bg-orange-50":"border-gray-300 hover:border-orange-500 hover:bg-orange-50/50"}`,children:[k.jsx(Zt,{className:"h-10 w-10 text-gray-400 group-hover:scale-105 transition"}),k.jsxs("p",{className:"text-sm text-center text-gray-700 leading-tight",children:[k.jsx("span",{className:"font-semibold text-orange-600",children:"Tap to upload"})," ","or drag and drop"]}),k.jsx("p",{className:"text-xs text-gray-500",children:"Images are automatically optimized for web."}),k.jsxs("p",{className:"text-xs text-gray-500",children:[t.length," / ",u," files added"]}),k.jsx("input",{ref:m,type:"file",multiple:!0,accept:"image/png, image/jpeg, image/gif, image/webp",className:"hidden",onChange:d=>h(d.target.files),disabled:R})]}),t.length>0&&k.jsxs(k.Fragment,{children:[k.jsx(xn,{children:k.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:t.map(d=>k.jsx(yn,{src:d.preview||d.url,children:k.jsxs("div",{className:"relative group overflow-hidden rounded-md border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-zoom-in",children:[k.jsx("img",{src:d.preview||d.url,alt:"Preview",className:"w-full h-32 sm:h-40 object-cover"}),k.jsx("button",{type:"button",onClick:x=>{x.stopPropagation(),j(d.id)},className:"absolute top-1.5 right-1.5 bg-black/60 hover:bg-red-600 text-white rounded-full p-1 transition",children:k.jsx($t,{className:"h-4 w-4"})})]})},d.id))})}),k.jsxs("div",{className:"mt-3",children:[k.jsxs("label",{htmlFor:`${e}-description`,className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",k.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),k.jsx("input",{id:`${e}-description`,type:"text",placeholder:"Add a description...",value:r,onChange:d=>o(d.target.value),className:"w-full text-sm rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:ring-orange-500 focus:border-orange-500 transition"})]})]})]})};export{Rn as I,en as v};
